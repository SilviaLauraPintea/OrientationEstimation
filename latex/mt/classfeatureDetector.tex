\hypertarget{classfeatureDetector}{
\section{featureDetector Class Reference}
\label{classfeatureDetector}\index{featureDetector@{featureDetector}}
}


Class used for detecting useful features in the images that can be later used for training and classifying.  


\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structfeatureDetector_1_1people}{people}
\begin{DoxyCompactList}\small\item\em Structure containing images of the size of the detected people. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classfeatureDetector_a84a8847c4124b284d1d5ae20bc9be583}{FEATURE} \{ \par
{\bfseries BLOB}, 
{\bfseries ELLIPSE}, 
{\bfseries CORNER}, 
{\bfseries EDGES}, 
\par
{\bfseries GABOR}, 
{\bfseries SURF}
 \}
\begin{DoxyCompactList}\small\item\em All available feature types. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classfeatureDetector_ac1ae7a446e0a4ef63ae1ff48cb4c3adc}{
{\bfseries featureDetector} (int argc, char $\ast$$\ast$argv)}
\label{classfeatureDetector_ac1ae7a446e0a4ef63ae1ff48cb4c3adc}

\item 
\hypertarget{classfeatureDetector_ac55f74c17c01b19821e1dec3e4a93354}{
{\bfseries featureDetector} (int argc, char $\ast$$\ast$argv, bool plot)}
\label{classfeatureDetector_ac55f74c17c01b19821e1dec3e4a93354}

\item 
\hypertarget{classfeatureDetector_a2927764bbe8e862087bdce685ce0142f}{
void \hyperlink{classfeatureDetector_a2927764bbe8e862087bdce685ce0142f}{upperLowerROI} (\hyperlink{structfeatureDetector_1_1people}{featureDetector::people} someone, double variance, cv::Mat \&upperRoi, cv::Mat \&lowerRoi)}
\label{classfeatureDetector_a2927764bbe8e862087bdce685ce0142f}

\begin{DoxyCompactList}\small\item\em Function that gets the ROI corresponding to a head/feet of a person in an image. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_aff38a72b47c051775f82b1567f2388af}{
bool \hyperlink{classfeatureDetector_aff38a72b47c051775f82b1567f2388af}{doFindPerson} (unsigned imgNum, IplImage $\ast$src, const vnl\_\-vector$<$ FLOAT $>$ \&imgVec, vnl\_\-vector$<$ FLOAT $>$ \&bgVec, const FLOAT logBGProb, const vnl\_\-vector$<$ FLOAT $>$ \&logSumPixelBGProb)}
\label{classfeatureDetector_aff38a72b47c051775f82b1567f2388af}

\begin{DoxyCompactList}\small\item\em Overwrites the {\ttfamily doFindPeople} function from the {\ttfamily Tracker} class to make it work with the feature extraction. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a6f2d6a5438138b4a55e49f593bdad57c}{
bool \hyperlink{classfeatureDetector_a6f2d6a5438138b4a55e49f593bdad57c}{imageProcessingMenu} ()}
\label{classfeatureDetector_a6f2d6a5438138b4a55e49f593bdad57c}

\begin{DoxyCompactList}\small\item\em Simple \char`\"{}menu\char`\"{} for skipping to the next image or quitting the processing. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_aa64fcc924225b814c411117db3739d9d}{
void \hyperlink{classfeatureDetector_aa64fcc924225b814c411117db3739d9d}{gaussianKernel} (cv::Mat \&gauss, cv::Size size, double sigma, cv::Point offset)}
\label{classfeatureDetector_aa64fcc924225b814c411117db3739d9d}

\begin{DoxyCompactList}\small\item\em Creates a symmetrical Gaussian kernel. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_ab4b667d370e7f97c1aa8be174b8a5896}{
void \hyperlink{classfeatureDetector_ab4b667d370e7f97c1aa8be174b8a5896}{allForegroundPixels} (std::vector$<$ \hyperlink{structfeatureDetector_1_1people}{featureDetector::people} $>$ \&allPeople, std::vector$<$ unsigned $>$ existing, IplImage $\ast$bg, double threshold)}
\label{classfeatureDetector_ab4b667d370e7f97c1aa8be174b8a5896}

\begin{DoxyCompactList}\small\item\em Get the foreground pixels corresponding to each person. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_ad847d108c04cb1bbab5edbbe6a0a1dd9}{
double \hyperlink{classfeatureDetector_ad847d108c04cb1bbab5edbbe6a0a1dd9}{getDistToTemplate} (int pixelX, int pixelY, std::vector$<$ CvPoint $>$ templ)}
\label{classfeatureDetector_ad847d108c04cb1bbab5edbbe6a0a1dd9}

\begin{DoxyCompactList}\small\item\em Gets the distance to the given template from a given pixel location. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_ad6e52ebcec6482cc8fe7c214d4ef665a}{
bool \hyperlink{classfeatureDetector_ad6e52ebcec6482cc8fe7c214d4ef665a}{isInTemplate} (unsigned pixelX, unsigned pixelY, std::vector$<$ CvPoint $>$ templ)}
\label{classfeatureDetector_ad6e52ebcec6482cc8fe7c214d4ef665a}

\begin{DoxyCompactList}\small\item\em Checks to see if a given pixel is inside a template. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_ac76e1c2b278f87000637cdffd1ec7706}{
void \hyperlink{classfeatureDetector_ac76e1c2b278f87000637cdffd1ec7706}{showROI} (cv::Mat image, cv::Point top\_\-left, cv::Size ROI\_\-size)}
\label{classfeatureDetector_ac76e1c2b278f87000637cdffd1ec7706}

\begin{DoxyCompactList}\small\item\em Shows a ROI in a given image. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a08250d6f19b71faa54abbc8d23dfacfc}{
void \hyperlink{classfeatureDetector_a08250d6f19b71faa54abbc8d23dfacfc}{getLinePerpendicular} (cv::Point A, cv::Point B, cv::Point C, double \&m, double \&b)}
\label{classfeatureDetector_a08250d6f19b71faa54abbc8d23dfacfc}

\begin{DoxyCompactList}\small\item\em Get perpendicular to a line given by 2 points A, B in point C. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a527c8b9ba5c24f552555278c8bc91b9b}{
bool \hyperlink{classfeatureDetector_a527c8b9ba5c24f552555278c8bc91b9b}{sameSubplane} (cv::Point test, cv::Point point, double m, double b)}
\label{classfeatureDetector_a527c8b9ba5c24f552555278c8bc91b9b}

\begin{DoxyCompactList}\small\item\em Checks to see if a point is on the same side of a line like another given point. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_aba2cd3ee3fe2e756164855429aa9d043}{
void \hyperlink{classfeatureDetector_aba2cd3ee3fe2e756164855429aa9d043}{getCornerPoints} (std::vector$<$ cv::Point2f $>$ \&corners, cv::Mat image)}
\label{classfeatureDetector_aba2cd3ee3fe2e756164855429aa9d043}

\begin{DoxyCompactList}\small\item\em Gets strong corner points in an image. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a7835049294fc18ef75ce49f0b408eca1}{
void \hyperlink{classfeatureDetector_a7835049294fc18ef75ce49f0b408eca1}{getEdges} (cv::Mat\_\-$<$ uchar $>$ \&edges, cv::Mat image)}
\label{classfeatureDetector_a7835049294fc18ef75ce49f0b408eca1}

\begin{DoxyCompactList}\small\item\em Gets the edges in an image. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_ab12cccc40398db5a1df0e9887262e8dc}{
void \hyperlink{classfeatureDetector_ab12cccc40398db5a1df0e9887262e8dc}{getSURF} (std::vector$<$ float $>$ \&descriptors, cv::Mat image)}
\label{classfeatureDetector_ab12cccc40398db5a1df0e9887262e8dc}

\begin{DoxyCompactList}\small\item\em SURF descriptors (Speeded Up Robust Features). \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_ad2ec4b96d2400b9e867a4a2231170ae9}{
void \hyperlink{classfeatureDetector_ad2ec4b96d2400b9e867a4a2231170ae9}{blobDetector} (cv::Mat \&feature, cv::Mat image, std::vector$<$ unsigned $>$ borders)}
\label{classfeatureDetector_ad2ec4b96d2400b9e867a4a2231170ae9}

\begin{DoxyCompactList}\small\item\em Blob detector in RGB color space. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_ac4682e5683fbe70f50ed0acb1dc4c95f}{
void \hyperlink{classfeatureDetector_ac4682e5683fbe70f50ed0acb1dc4c95f}{showZoomedImage} (cv::Mat image, std::string title=\char`\"{}zoomed\char`\"{})}
\label{classfeatureDetector_ac4682e5683fbe70f50ed0acb1dc4c95f}

\begin{DoxyCompactList}\small\item\em Just displaying an image a bit larger to visualize it better. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a525e6e312bc68316f211a26096cad3fa}{
void \hyperlink{classfeatureDetector_a525e6e312bc68316f211a26096cad3fa}{skinEllipses} (cv::RotatedRect \&finalBox, cv::Mat img, cv::Point templateCenter, cv::Point offset=cv::Point(0, 0), double minHeadSize=20, double maxHeadSize=40)}
\label{classfeatureDetector_a525e6e312bc68316f211a26096cad3fa}

\begin{DoxyCompactList}\small\item\em Head detection by fitting ellipses (if  templateCenter is relative to the  img the offset needs to be used). \item\end{DoxyCompactList}\item 
void \hyperlink{classfeatureDetector_a6123a7e06d28a9fcd294485c9ac19384}{getGabor} (cv::Mat \&response, cv::Mat image, float $\ast$params=NULL)
\begin{DoxyCompactList}\small\item\em Convolve an image with a  Gabor filter with the given parameters and returns the  response image. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_abd0f089ff65b2aa9163b0c6635eb5222}{
void \hyperlink{classfeatureDetector_abd0f089ff65b2aa9163b0c6635eb5222}{setFeatureType} (\hyperlink{classfeatureDetector_a84a8847c4124b284d1d5ae20bc9be583}{FEATURE} type)}
\label{classfeatureDetector_abd0f089ff65b2aa9163b0c6635eb5222}

\begin{DoxyCompactList}\small\item\em Set what kind of features to extract. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_aae498845bcbfe3df527b0503ba08122c}{
void \hyperlink{classfeatureDetector_aae498845bcbfe3df527b0503ba08122c}{extractDataRow} (std::vector$<$ unsigned $>$ existing, IplImage $\ast$bg)}
\label{classfeatureDetector_aae498845bcbfe3df527b0503ba08122c}

\begin{DoxyCompactList}\small\item\em Creates on data row in the final data matrix by getting the feature descriptors. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a011ff09a0b8681af02bc4a633ee3b480}{
void \hyperlink{classfeatureDetector_a011ff09a0b8681af02bc4a633ee3b480}{templateWindow} (cv::Size imgSize, unsigned \&minX, unsigned \&maxX, unsigned \&minY, unsigned \&maxY, std::vector$<$ CvPoint $>$ \&templ, unsigned tplBorder=100)}
\label{classfeatureDetector_a011ff09a0b8681af02bc4a633ee3b480}

\begin{DoxyCompactList}\small\item\em Returns the size of a window around a template centered in a given point. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a9f5be7a342e76712eb77368c3e2bedfe}{
void \hyperlink{classfeatureDetector_a9f5be7a342e76712eb77368c3e2bedfe}{init} (std::string dataFolder)}
\label{classfeatureDetector_a9f5be7a342e76712eb77368c3e2bedfe}

\begin{DoxyCompactList}\small\item\em Initializes the parameters of the tracker. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classfeatureDetector_acc6844523e2ad34b294324dd4a02820e}{
bool \hyperlink{classfeatureDetector_acc6844523e2ad34b294324dd4a02820e}{plotTracks}}
\label{classfeatureDetector_acc6844523e2ad34b294324dd4a02820e}

\begin{DoxyCompactList}\small\item\em If it is true it displays the tracks of the people in the images. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a22aa8f3d60aa9612c86837cb2198554b}{
\hyperlink{classfeatureDetector_a84a8847c4124b284d1d5ae20bc9be583}{FEATURE} \hyperlink{classfeatureDetector_a22aa8f3d60aa9612c86837cb2198554b}{featureType}}
\label{classfeatureDetector_a22aa8f3d60aa9612c86837cb2198554b}

\begin{DoxyCompactList}\small\item\em Can have one of the values indicating the feature type. \item\end{DoxyCompactList}\item 
\hypertarget{classfeatureDetector_a511ae0b1c13f95e5f08f1a0dd3da3d93}{
cv::Mat \hyperlink{classfeatureDetector_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}
\label{classfeatureDetector_a511ae0b1c13f95e5f08f1a0dd3da3d93}

\begin{DoxyCompactList}\small\item\em The training data obtained from the feature descriptors. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classfeatureDetector_a6123a7e06d28a9fcd294485c9ac19384}{
\index{featureDetector@{featureDetector}!getGabor@{getGabor}}
\index{getGabor@{getGabor}!featureDetector@{featureDetector}}
\subsubsection[{getGabor}]{\setlength{\rightskip}{0pt plus 5cm}void getGabor (
\begin{DoxyParamCaption}
\item[{cv::Mat \&}]{ response, }
\item[{cv::Mat}]{ image, }
\item[{float $\ast$}]{ params = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}}
\label{classfeatureDetector_a6123a7e06d28a9fcd294485c9ac19384}
Convolves an image with a  Gabor filter with the given parameters and returns the  response image. 